RewriteEngine On

RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

RewriteRule ^ index.php [L]

<IfModule mod_mime.c>
    AddType video/mp4 .mp4
</IfModule>

<IfModule mod_deflate.c>
    SetEnvIfNoCase Request_URI "\.mp4$" no-gzip=1
</IfModule>

<IfModule mod_headers.c>
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-Content-Type-Options "nosniff"
    Header set Referrer-Policy "strict-origin-when-cross-origin"

    <FilesMatch "\.(mp4|webm|ogg)$">
        Header set Cache-Control "public, max-age=31536000, immutable, no-transform"
        Header set Accept-Ranges "bytes"
    </FilesMatch>

    <FilesMatch "\.(css|js|jpg|jpeg|png|webp|svg|gif|woff2?)$">
        Header set Cache-Control "public, max-age=604800"
    </FilesMatch>
</IfModule>
